define(["util/promise","base/collection","models/user/user"],function(a,b,c){"use strict";return b.extend({props:{func:"app.friends_in_game",model:c},public:{getFetchParams:function(){return{app:this.options.appId}},adapter:function(a){return{items:a.data.map(function(a){return{dir:a.dir,name:a.first_name||a.last_name?a.first_name+" "+a.last_name:a.nick,firstName:a.first_name,lastName:a.last_name,avatar32:a.avatars[32]}})}},getFriends:function(){return new a(function(a,b){var c=this.getItems();c.length?a(c):this.fetch().then(a,b)}.bind(this))}}})});